<!--HTML代码清单8-5-2--> 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html debug='true'>
    <head>
        <title>Ext编辑控件只读插件_演示实例</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="../lib/ext/resources/css/ext-all.css" />
        <script type="text/javascript" src="../lib/ext/ext-base.js">
        </script>
        <script type="text/javascript" src="../lib/ext/ext-all.js">
        </script>
        <script type="text/javascript" src="../lib/ext/Ext.ux.FieldReadOnlyPlugin.js">
        </script>
        <script type="text/javascript" src="../lib/ext/locale/ext-lang-zh_CN.js">
        </script>
        <style>
        </style>
    </head>
    <body>
        <h1 style="margin:20px 0px 0px 20px;">Ext.ux.FieldReadOnlyPlugin例子</h1>
        <br/>
        <div style="padding-left:20px;">
            <p>
                <div id="form">
                </div>
                <br>
            </p>
            <br/>
        </div>
        <script>
var app = {};
Ext.onReady(function(){
    var frm = new Ext.form.FormPanel({
        title: "Ext.ux.FieldReadOnlyPlugin",
        applyTo: "form",
        autoHeight: true,
        width: 750,
        frame: true,
        items: [{
            layout: 'column',
            border: false,
            items: [{
                columnWidth: .6,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'textfield',
                    fieldLabel: '文本',
                    name: 'text',
                    anchor: '90%',
                    value: 'test',
                    plugins: [new Ext.ux.FieldReadOnlyPlugin()]
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '设置为只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("text").setReadOnly(true);
                    }
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '解除只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("text").setReadOnly(false);
                    }
                }]
            }, {
                columnWidth: .6,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'combo',
                    name: 'combo',
                    fieldLabel: '下拉选择',
                    store: new Ext.data.SimpleStore({
                        fields: ['name'],
                        data: [['Aero'], ['Vista'], ['Gray']]
                    }),
                    typeAhead: true,
                    displayField: 'name',
                    selectOnFocus: true,
                    triggerAction: 'all',
                    mode: 'local',
                    anchor: '90%',
                    plugins: [new Ext.ux.FieldReadOnlyPlugin()]
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '设置为只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("combo").setReadOnly(true);
                    }
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '解除只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("combo").setReadOnly(false);
                    }
                }]
            }, {
                columnWidth: .6,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'datefield',
                    fieldLabel: '生日',
                    name: 'datefield',
                    anchor: '90%',
                    value: new Date(),
                    plugins: [new Ext.ux.FieldReadOnlyPlugin()]
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '设置为只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("datefield").setReadOnly(true);
                    }
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '解除只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("datefield").setReadOnly(false);
                    }
                }]
            }, {
                columnWidth: .6,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'checkbox',
                    fieldLabel: '角色',
                    boxLabel: '管理员',
                    name: 'checkbox',
                    anchor: '90%',
                    value: 'test',
                    plugins: [new Ext.ux.FieldReadOnlyPlugin()]
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '设置为只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("checkbox").setReadOnly(true);
                    }
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '解除只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("checkbox").setReadOnly(false);
                    }
                }]
            }, {
                columnWidth: .6,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'textarea',
                    fieldLabel: '文本',
                    name: 'textarea',
                    anchor: '90%',
                    value: 'test',
                    plugins: [new Ext.ux.FieldReadOnlyPlugin()]
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '设置为只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("textarea").setReadOnly(true);
                    }
                }]
            }, {
                columnWidth: .2,
                layout: 'form',
                border: false,
                items: [{
                    xtype: 'button',
                    text: '解除只读',
                    scope: this,
                    handler: function(){
                        frm.form.findField("textarea").setReadOnly(false);
                    }
                }]
            }]
        }]
    });
    
    frm.form.findField("text").setReadOnly(true);
});
        </script>
    </body>
</html>
