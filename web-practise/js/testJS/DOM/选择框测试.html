<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<script type="text/javascript">
  		function appendA(){
  			
  		}
  		
  		function ev_add(){
  			alert('adding') ;
  		}
  		
  		/**
		 * 增加多条关联资源
		 */
		function ev_addMany(){ 
			var grid=Ext.getCmp('grid3');   
			var selRecords=grid.getSelections();//获取GRID选择行集合;  
			var selCount=grid.getSelectionModel().getCount();//获取GRID选择行总数;   
			if(selCount==0){       
				alert("请您选择要关联的资源！");       
				return;    
			}
		 	
		 	var selected = $obj('listbox1') ;
		 	var curOptions = selected.options ;
		 	var curOptionsSize = selected.options.length ;
		 	
		 	for(var i = 0; i < selCount; i++){
		 		
		 		var newFlag = true ;
		 		
		 		for(var j = 0; j < curOptionsSize; j++){
		 			if(selRecords[i].get('resourceid') == curOptions[j].value){
		 				newFlag = false ;
		 				//alert(selRecords[i].get('title') + '  已经选择') ;
		 			}
		 		}
		 		
		 		if(newFlag){
		 			var oneOption = document.createElement('OPTION') ;
				 	oneOption.value = selRecords[i].get('resourceid') ;
				 	oneOption.innerHTML = selRecords[i].get('title') ;
				 	selected.appendChild(oneOption) ;
		 		}
		 	}
		}
		
		/**
		 * 删除全部关联资源
		 */
		function ev_delAll(){ 
		 	var selected = $obj('listbox1') ;
		 	selected.innerHTML = '' ;
		}
		
		/**
		 * 删除单条关联资源
		 */
		function ev_delOne(){ 
		 	var selected = $obj('listbox1') ;
		 	var curIndex = selected.selectedIndex ;
		 	
		 	if(curIndex != -1)
		 		selected.remove(curIndex) ;
		}
		
		/**
		 * 上移
		 */
		function shiftUp(){ 
		 	var selected = $obj('listbox1') ;
		 	var curIndex = selected.selectedIndex ;
		 	
		 	if(curIndex == 0){
		 		alert('已经到最前面了') ;
		 		return false ;
		 	}
		 	
		 	if(curIndex != -1){
		 		selected.options[curIndex - 1].swapNode(selected.options[curIndex]) ;
		 	}
		}
		
		/**
		 * 下移
		 */
		function shiftDown(){ 
		 	var selected = $obj('listbox1') ;
		 	var selectSize = selected.options.length ;
		 	var curIndex = selected.selectedIndex ;
		 	
		 	if(curIndex + 1 == selectSize){
		 		alert('已经到最后面了') ;
		 		return false ;
		 	}
		 	
		 	if(curIndex != -1){
		 		selected.options[curIndex + 1].swapNode(selected.options[curIndex]) ;
		 	}
		}
  	</script>
		<title>选择框测试</title>

		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
		<meta http-equiv="description" content="this is my page">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">

		<!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

	</head>

	<body>
		<table style="width: 90%" cellspacing=0 cellpadding=0 border=1>
			<tr>
				<td style="width: 40%">
					<select style="width: 100%; height: 100%" size=4>
						<option value="1">
							一
						</option>
						<option value="2">
							二
						</option>
						<option value="3">
							三
						</option>
					</select>
				</td>
				<td style="width: 20%">
					<table>
						<tr>
							<td align="center">
								<input onclick="ev_add()" type="button" id="idadd" name="add"
									value="增加" />
							</td>
						</tr>
						<tr>
							<td align="center">
								<input type="button" id="iddel" name="del" value="删除" />
							</td>
						</tr>
						<tr>
							<td align="center">
								<input type="button" id="iddelAll" name="delAll" value="全部删除" />
							</td>
						</tr>
						<tr>
							<td align="center"></td>
						</tr>
						<tr>
							<td align="center">
								<input type="button" id="idshiftUp" name="shiftUp" value="上移" />
							</td>
						</tr>
						<tr>
							<td align="center">
								<input type="button" id="idshiftDown" name="shiftDown"
									value="下移" />
							</td>
						</tr>
					</table>
				</td>
				<td style="width: 40%">
					<select style="width: 100%; height: 100%" size=4>
						<option value="1">
							一
						</option>
						<option value="2">
							二
						</option>
						<option value="3">
							三
						</option>
					</select>
				</td>
			</tr>
		</table>
		<table id="operatortable">
			<tr>
				<td id=target>

				</td>
			</tr>
			<tr>
				<td>
					<input onclick="appendA()" type="button" id="idappendA"
						name="appendA" value="appendA"
						style="background: #999999 url(../../img/submit.gif) no-repeat center;" />
				</td>
			</tr>
		</table>
	</body>
</html>
