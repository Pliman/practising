<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>替换字符串</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		
		<script type="text/javascript">
			$GA = {};
			//$GA.returnURL = 'abc.html?fcd=234&cc=35&aa=bb';
			//$GA.returnURL = 'abc.html?fcd=234&cc=35';
			$GA.returnURL = 'abc.html?fcd=234';
			
			function setQueryParam (prefix,param){
				var returnURL = $GA.returnURL;
				var paramArr = returnURL.split(prefix);
				
				if(paramArr.length > 1){
					var str = paramArr[1];
					var index = str.indexOf('&');
					if(index > -1){
						paramArr[1] = prefix + param + str.substring(index,paramArr[1].length);
					}else{
						paramArr[1] = prefix + param;
					}
					
					$GA.returnURL = paramArr[0] + paramArr[1];
				}else{
					$GA.returnURL = paramArr[0] + prefix + param;
				}
			};
			
	  		function replace(pre,param){
	  			setQueryParam(pre,param);
	  			alert($GA.returnURL);
	  		}
	  	</script>
	</head>

	<body>
		<table id="operatortable">
			<tr>
				<td>
					<input onclick="replace('&cc=',5)" type="button" id="replace" name="replace"
						value="replace"
						style="background: white url(../../img/submit.gif) no-repeat center;" />
				</td>
			</tr>
		</table>
	</body>
</html>
